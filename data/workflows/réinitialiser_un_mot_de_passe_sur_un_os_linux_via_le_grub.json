{
  "id": "rÃ©initialiser_un_mot_de_passe_sur_un_os_linux_via_le_grub",
  "name": "RÃ©initialiser un mot de passe sur un OS Linux via le Grub",
  "version": "1.0",
  "description": "RÃ©initialisation MDP du compte root sous OS Linux ",
  "description_long":"copie de https://neptunet.fr/grub-reinit-mdp/\r\nQuoi de plus rageant que de taper un mot de passe sous Linux et de se prendre en retour un Â« Ã©chec de lâ€™authentification Â», Â« login incorrect Â» ou (mon prÃ©fÃ©rÃ©) Â« dÃ©solÃ© lâ€™authentification par mot de passe nâ€™a pas fonctionnÃ© Â» (alors oui sous Windows aussi câ€™est Ã©nervant mais lÃ  on va parler uniquement Linux ğŸ˜Š)\r\n\r\nHeureusement pour nous, rÃ©initialiser un mot de passe perdu ou oubliÃ© quand on se retrouve bloquÃ© Ã  la fenÃªtre de connexion est possible, petite astuce du jour sur le sujet !",
  "tags": [],
  "meta": {
    "created_by": "admin",
    "created_at": "2025-07-22"
  },
  "flow": [
    {
      "id": "step1",
      "title": "RÃ©initialisation MDP du compte root sous Debian 12 sans interface graphique",
      "type": "action",
      "description": "",
      "long_description": "Voici une vue du Grub lorsque lâ€™on dÃ©marre une machine Debian : \n<img src='/static/img/grubreinit/MDP-Linux-1.png'>\n\nLors du dÃ©marrage, Ã  lâ€™affichage de ce fameux grub, appuyez trÃ¨s rapidement sur la touche Â« e Â» du clavier pour arriver sur cet Ã©cran :\n<img src='/static/img/grubreinit/MDP-Linux-2.png'>\n\nA lâ€™aide des touches flÃ©chÃ©es de votre clavier, descendez et recherchez la ligne commenÃ§ant par Â« linux Â».\n<img src='/static/img/grubreinit/MDP-Linux-3.png'>\n\nToujours avec les touches flÃ©chÃ©es du clavier, allez Ã  la fin de la ligne commenÃ§ant par linux Â» et placez vous derriÃ¨re le mot Â« quiet Â».\n<img src='/static/img/grubreinit/MDP-Linux-4.png'>\n\nDerniÃ¨re le mot Â« quiet Â», faites un espace et ajoutez ceci Â« rw init=/bin/bash Â» (attention : le clavier peut Ãªtre en qwerty).\n<img src='/static/img/grubreinit/MDP-Linux-5.png'>\n\nUne fois fait, nous pouvons quitter ce menu en enregistrant bien sur les modifications effectuÃ©es. Pour cela, appuyez simultanÃ©ment sur les touches Ctrl et X du clavier, la machine va redÃ©marrer automatiquement.\n\nSur lâ€™Ã©cran qui va sâ€™afficher au redÃ©marrage, nous serons directement connectÃ©s en root, prÃªt pour saisir des lignes de commandes.\n<img src='/static/img/grubreinit/MDP-Linux-6.png'>\n\nIl est maintenant possible de changer le mot de passe du compte root en tapant la commande Â« passwd Â» suivi du nouveau mot de passe que lâ€™on veut lui attribuer et en appuyant sur EntrÃ©e pour valider lâ€™envoi dâ€™une commande. Attention, le clavier risque dâ€™Ãªtre toujours en qwerty et vous ne verrez pas le MDP saisi ! Je vous conseille de mettre un mdp simple oÃ¹ les touches sont communes entre un qwerty et un azerty, vous le remplacerez par la suite par un MDP fort quand vous aurez rÃ©cupÃ©rÃ© lâ€™accÃ¨s normal Ã  la session.\n<img src='/static/img/grubreinit/MDP-Linux-7.png'>\n\nSi câ€™est pour un autre utilisateur que root, il faut saisir son login dans la commande (exemple : passwd nom_user).\n<img src='/static/img/grubreinit/MDP-Linux-8.png'>\n\nUne fois le MDP modifiÃ©, vous pouvez quitter ce mode en saisissant la commande suivante (attention, clavier toujours en qwerty) : <code>exec /sbin/init</code>\n\nVous arriverez directement Ã  la fenÃªtre de connexion de Debian telle que vous la connaissez.\n<img src='/static/img/grubreinit/MDP-Linux-9.png'>\n\nVous pouvez maintenant vous loguer normalement avec le compte root et son MDP passe que lâ€™on vient de modifier\n<img src='/static/img/grubreinit/MDP-Linux-10.png'>\n\nUne fois connectÃ©, vous pouvez une nouvelle fois changer le MDP en saisissant de nouveau la commande Â« passwd Â».\n\nCâ€™est tout pour cette partie",
      "next":[]
    },
    {
      "id": "step2",
      "title": "RÃ©initialisation MDP dâ€™un compte local sous Ubuntu Desktop 22",
      "type": "action",
      "description": "",
      "long_description": "Voici une vue du Grub lorsque lâ€™on dÃ©marre une machine Ubuntu Desktop :\n<img src='/static/img/grubreinit/MDP-Linux-11.png'>\n\nSi vous nâ€™avez pas le temps de voir lâ€™Ã©cran du grub, restez appuyÃ© sur la touche shift (maj) du clavier jusquâ€™Ã  son affichage lors du dÃ©marrage de la machine, avant lâ€™affichage du logo Ubuntu (si vous voyez le logo Ubuntu, il est dÃ©jÃ  trop tard et vous devez redÃ©marrer la machine).\n\nQuand vous voyez bien lâ€™Ã©cran du grub, descendez sur Â« Advanced options for Ubuntu Â» Ã  lâ€™aide des touches flÃ©chÃ©es du clavier et appuyez sur EntrÃ©e.\n<img src='/static/img/grubreinit/MDP-Linux-12.png'>\n\n A lâ€™Ã©cran suivant, descendez sur la premiÃ¨re ligne se terminant par Â« recovery mode Â» et appuyez sur la touche EntrÃ©e.\n<img src='/static/img/grubreinit/MDP-Linux-13.png'>\n\nPatientez le temps du chargement du menu de rÃ©cupÃ©ration.\n<img src='/static/img/grubreinit/MDP-Linux-14.png'>\n\nLorsque le menu de rÃ©cupÃ©ration est affichÃ©, descendez sur la ligne Â« root Â» et appuyez sur EntrÃ©e.\n<img src='/static/img/grubreinit/MDP-Linux-15.png'>\n\nDu texte sâ€™affichera en dessous du menu. Appuyez sur EntÃ©e pour rentrer en mode maintenance.\n<img src='/static/img/grubreinit/MDP-Linux-16.png'>\n\nNous serons ensuite directement connectÃ©s en root, prÃªt Ã  saisir des commandes.\n<img src='/static/img/grubreinit/MDP-Linux-17.png'>\n\nIl est maintenant possible de changer le mot de passe dâ€™un compte en tapant la commande Â« passwd nom_user Â» suivi du nouveau mot de passe que lâ€™on veut lui attribuer.\n<img src='/static/img/grubreinit/MDP-Linux-18.png'>\n\nUn message peut avertir que le mot de passe est trop faible mais il nâ€™empÃªche pas la modification. PrivilÃ©giez tout de mÃªme des mots de passe robustes bien Ã©videmment.\n\nSi vous ne connaissez pas le login prÃ©cis de lâ€™utilisateur concernÃ© par ce changement de MDP, tapez Â« cat /etc/passwd Â» pour afficher la liste des utilisateurs sur la machine. En gÃ©nÃ©ral, lâ€™utilisateur recherchÃ© aura un dossier Â« /home Â» affectÃ©, son identifiant prÃ©cis (login) est le nom qui apparait au dÃ©but de la ligne le concernant. Evitez de toucher les autres utilisateurs qui sont liÃ©s aux services ou au systÃ¨me lui-mÃªme.\n<img src='/static/img/grubreinit/MDP-Linux-19.png'>\n\nUne fois terminÃ©e, vous pouvez quitter le mode maintenance avec la commande Â« reboot Â».\n\nVous pouvez maintenant vous loguer normalement avec le compte et le mot de passe que lâ€™on vient de modifier.\n<img src='/static/img/grubreinit/MDP-Linux-20.png'>\n\nVous arriverez sur lâ€™environnement de travail habituel de lâ€™utilisateur.\n\nCâ€™est tout pour cette partie",
      "next": []
    },
    {
      "id": "step3",
      "title": "RÃ©initialisation MDP dâ€™un compte local sous CentOS 9 avec SELinux actif",
      "type": "action",
      "description": "",
      "long_description": "Voici une vue du Grub lorsque lâ€™on dÃ©marre une machine sous CentOS :\n<img src='/static/img/grubreinit/MDP-Linux-21.png'>\n\nLors du dÃ©marrage, Ã  lâ€™affichage du grub (image prÃ©cÃ©dente), appuyez trÃ¨s rapidement sur la touche Â« e Â» du clavier pour arriver sur cet Ã©cran.\n<img src='/static/img/grubreinit/MDP-Linux-22.png'>\n\nA lâ€™aide des touches flÃ©chÃ©es du clavier, descendez et recherchez la ligne commenÃ§ant par Â« linux Â».\n<img src='/static/img/grubreinit/MDP-Linux-23.png'>\n\nToujours avec les touches flÃ©chÃ©es du clavier, dÃ©placez vous Ã  la fin de la ligne commenÃ§ant par Â« linux Â», derriÃ¨re le mot Â« quiet Â».\n<img src='/static/img/grubreinit/MDP-Linux-24.png'>\n\nSupprimez les paramÃ¨tres Â« rhgb Â» et Â« quiet Â» et ajoutez Ã  la place les paramÃ¨tres suivants : break enforcing=0\n\nAttention : le clavier peut Ãªtre en qwerty. Le caractÃ¨re derriÃ¨re le = est un zÃ©ro.\n\nVous aurez une vue ressemblant Ã  ceci :\n<img src='/static/img/grubreinit/MDP-Linux-25.png'>\n\nInfo + : Le paramÃ¨tre Â« enforcing=0 Â» va passer SELinux en mode permissif, câ€™est-Ã -dire quâ€™il alertera mais ne bloquera pas. Il faudra le repasser en mode forcÃ© Ã  la fin de lâ€™opÃ©ration.\n\nUne fois les modifications effectuÃ©es, vous pouvez quitter ce menu en enregistrant les modifications en appuyant simultanÃ©ment sur les touches Ctrl et X du clavier, la machine va redÃ©marrer automatiquement.\n\nUn prompt commenÃ§ant par Â« switch_root Â» va apparaÃ®tre et nous pourrons saisir des commandes.\n<img src='/static/img/grubreinit/MDP-Linux-26.png'>\n\nA cette Ã©tape, le systÃ¨me de fichier est en lecture seule, nous ne pouvons pas encore modifier un mot de passe. Passez lâ€™accÃ¨s en Ã©criture et changez le rÃ©pertoire racine avec les 2 commandes suivantes :\n<code>mount -o remount,rw /sysroot\nchroot /sysroot</code>\n\nLe prompt changera et commencera par Â« sh- Â».\n\nIl est maintenant possible de changer le mot de passe dâ€™un compte utilisateur (root ou autre) en tapant la commande Â« passwd nom-user Â» (remplacez Â« nom-user Â» par le login de votre propre utilisateur). Si la rÃ©initialisation concerne directement le compte Â« root Â», Ã©crivez juste la commande Â« passwd Â», suivi du nouveau mot de passe que lâ€™on veut lui attribuer.\n<img src='/static/img/grubreinit/MDP-Linux-29.png'>\n\nUn message peut avertir que le mot de passe est trop faible mais il nâ€™empÃªche pas la modification. PrivilÃ©giez tout de mÃªme des mots de passe robustes bien Ã©videmment. Quittez ce mode avec la commande Â« exit Â» pour revenir au prompt commenÃ§ant par Â« switch_root Â».\n<img src='/static/img/grubreinit/MDP-Linux-30.png'>\n\nSaisissez une seconde fois la commande Â« exit Â» pour quitter dÃ©finitivement ce mode et revenir Ã  la fenÃªtre de connexion dâ€™un utilisateur.\n\nvous pouvez dÃ©sormais vous loguer normalement avec le compte et le mot de passe que lâ€™on vient de modifier.\n<img src='/static/img/grubreinit/MDP-Linux-31.png'>\n\nVous arriverez sur votre environnement de travail habituel.\n\nComme nous avons passÃ© SELinux en mode passif, il faut encore effectuer 2 petites manipulations pour tout remettre propre. Depuis la session dâ€™un utilisateur, ouvrez un terminal.\n\nIl faut remettre le fichier /etc/shadow dans le contexte de sÃ©curitÃ© se SELinux avec la commande suivante :\n<code>sudo restorecon /etc/shadow</code>\n<img src='/static/img/grubreinit/MDP-Linux-32.png'>\n\nInfo + : Si vous Ãªtes connectÃ© directement en root, vous nâ€™avez pas besoin dâ€™utiliser Â« sudo Â».\n\nEt enfin nous allons repasser SELinux en mode forcÃ© avec cette commande :\n<code>setenforce 1</code>\n\nSi on vÃ©rifie avec la commande Â« sestatus Â» ou Â« getenforce Â», nous verrons que SELinux a bien Ã©tÃ© remis en mode forcÃ©.\n<img src='/static/img/grubreinit/MDP-Linux-32.png'>\n\nEt voilÃ  tout est remis en place, câ€™est tout pour cette partie smile.",
      "next": []
    }
  ]
}